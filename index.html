
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="images/images/favicon.ico" rel="icon" type="image/ico" />
    <title>Pexpay API Documentation</title>
    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
  background-color: #272822;
}
.highlight .nn {
  color: #ffffff;
  background-color: #272822;
}
.highlight .nl {
  color: #ffffff;
  background-color: #272822;
}
.highlight .ni {
  color: #ffffff;
  background-color: #272822;
}
.highlight .bp {
  color: #ffffff;
  background-color: #272822;
}
.highlight .vg {
  color: #ffffff;
  background-color: #272822;
}
.highlight .vi {
  color: #ffffff;
  background-color: #272822;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
  background-color: #272822;
}
.highlight .w {
  color: #ffffff;
  background-color: #272822;
}
.highlight {
  color: #ffffff;
  background-color: #272822;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
  background-color: #272822;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        <img src="images/navbar.png" alt="" />
      </span>
    </a>
    <header>
      <div class="flex_box">
        <a href="https://www.pexpay.com/" class="LG" id="LG"><img src="images/logo.svg" class="logo" alt="" /></a>
        <div class="nav_box">
          <span class="nav_cell" style="display: none">
            <a href="javascript:;" class="nav_first">v1<i class="icon_nav"></i></a>
            //<ul class="nav_ul">
            //  <li>
            //    <a href="/apidocs/spot/en/" id="v1_url">v1</a>
            //  </li>
            //  <li>
            //    <a href="/apidocs/spot/en/" id="v2_url">v2</a>
            //  </li>
            </ul>
          </span>
          <span class="nav_cell nav_tab">
            <a href="/apidocs/spot/en/" id="btn_spot">c2c</a>
          </span>
          <!-- <span class="nav_cell nav_tab">
            <a href="/apidocs/futures/en/" id="btn_dm">U本位合约</a>
          </span>
          <span class="nav_cell nav_tab">
            <a href="/apidocs/delivery/en/" id="btn_fp">币本位合约</a>
          </span>
          <span class="nav_cell nav_tab">
            <a href="/apidocs/voptions/en/" id="btn_tn">欧式期权</a>
          </span> -->
        </div>
      </div>
      <a href="/apidocs/spot/cn/" class="lang" id="lang_box">简体中文</a>
    </header>
    <div class="toc-wrapper">
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#change-log" class="toc-h1 toc-link" data-title="Change Log">Change Log</a>
          </li>
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#api-key-setup" class="toc-h2 toc-link" data-title="API Key Setup">API Key Setup</a>
                  </li>
                  <li>
                    <a href="#contact-us" class="toc-h2 toc-link" data-title="Contact Us">Contact Us</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#general-info" class="toc-h1 toc-link" data-title="General Info">General Info</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#general-api-information" class="toc-h2 toc-link" data-title="General API Information">General API Information</a>
                  </li>
                  <li>
                    <a href="#limits" class="toc-h2 toc-link" data-title="LIMITS">LIMITS</a>
                  </li>
                  <li>
                    <a href="#signed-trade-user_data-and-margin-endpoint-security" class="toc-h2 toc-link" data-title="SIGNED (TRADE, USER_DATA, AND MARGIN) Endpoint security">SIGNED (TRADE, USER_DATA, AND MARGIN) Endpoint security</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#c2c-endpoints" class="toc-h1 toc-link" data-title="C2C Endpoints">C2C Endpoints</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-c2c-trade-history-user_data" class="toc-h2 toc-link" data-title="Get C2C Trade History (USER_DATA)">Get C2C Trade History (USER_DATA)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#error-codes" class="toc-h1 toc-link" data-title="Error Codes">Error Codes</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#10xx-general-server-or-network-issues" class="toc-h2 toc-link" data-title="10xx - General Server or Network issues">10xx - General Server or Network issues</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://www.pexpay.com/'>Pexpay Exchange</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='change-log'>Change Log</h1>
<p><font size=4><strong>2022-11-07</strong></font></p>

<ul>
<li>GET /api/v1/aggTrades </li>
<li>GET /api/v1/klines </li>
<li>GET /api/v3/order </li>
<li>GET /api/v3/allOrders </li>
<li>GET /api/v3/account </li>
<li>GET /api/v3/myTrades </li>
<li>GET /api/v3/historicalTrades </li>
</ul>
<h1 id='introduction'>Introduction</h1><h2 id='api-key-setup'>API Key Setup</h2>
<ul>
<li>Some endpoints will require an API Key. Please refer to <a href="https://www.pexpayzh.top/en/support/faq/360002502072">this page</a> regarding API key creation.</li>
<li>Once API key is created, it is recommended to set IP restrictions on the key for security reasons.</li>
<li><strong>Never share your API key/secret key to ANYONE.</strong></li>
</ul>

<aside class="warning">
If the API keys were accidentally shared, please delete them immediately and create a new key.
</aside>
<h2 id='contact-us'>Contact Us</h2>
<ul>
<li><a href="https://support.pexpay.com/hc/en-us/requests/new?ticket_form_id=11868568981785">submit your requests or issues in here</a></li>
</ul>

<hr>
<h1 id='general-info'>General Info</h1><h2 id='general-api-information'>General API Information</h2>
<ul>
<li>The base endpoint is: <strong>https://api.pexpay.com</strong></li>
<li>All endpoints return either a JSON object or array.</li>
<li>All time and timestamp related fields are in <strong>milliseconds</strong>.</li>
</ul>
<h3 id='http-return-codes'>HTTP Return Codes</h3>
<ul>
<li>HTTP <code>4XX</code> return codes are used for malformed requests;
the issue is on the sender&#39;s side.</li>
<li>HTTP <code>403</code> return code is used when the WAF Limit (Web Application Firewall) has been violated.</li>
<li>HTTP <code>429</code> return code is used when breaking a request rate limit.</li>
<li>HTTP <code>418</code> return code is used when an IP has been auto-banned for continuing to send requests after receiving <code>429</code> codes.</li>
<li>HTTP <code>5XX</code> return codes are used for internal errors; the issue is on
Pexpay&#39;s side.
It is important to <strong>NOT</strong> treat this as a failure operation; the execution status is
<strong>UNKNOWN</strong> and could have been a success.</li>
</ul>
<h3 id='error-codes-and-messages'>Error Codes and Messages</h3>
<ul>
<li>If there is an error, the API will return an error with a message of the reason.</li>
</ul>

<blockquote>
<p>The error payload is as follows:</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="dl">"</span><span class="s2">code</span><span class="dl">"</span><span class="p">:</span> <span class="nx">$</span><span class="p">{</span><span class="nx">error</span> <span class="nx">code</span><span class="p">},</span>
  <span class="dl">"</span><span class="s2">msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">error message.</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>Specific error codes and messages defined in <a href="#error-codes">Error Codes</a>.</li>
</ul>
<h3 id='general-information-on-endpoints'>General Information on Endpoints</h3>
<ul>
<li>For <code>GET</code> endpoints, parameters must be sent as a <code>query string</code>.</li>
<li>For <code>POST</code>, <code>PUT</code>, and <code>DELETE</code> endpoints, the parameters may be sent as a
<code>query string</code> or in the <code>request body</code> with content type
<code>application/x-www-form-urlencoded</code>. You may mix parameters between both the
<code>query string</code> and <code>request body</code> if you wish to do so.</li>
<li>Parameters may be sent in any order.</li>
<li>If a parameter sent in both the <code>query string</code> and <code>request body</code>, the
<code>query string</code> parameter will be used.</li>
</ul>

<hr>
<h2 id='limits'>LIMITS</h2><h3 id='general-info-on-limits'>General Info on Limits</h3>
<ul>
<li>The following <code>intervalLetter</code> values for headers:

<ul>
<li>SECOND =&gt; S</li>
<li>MINUTE =&gt; M</li>
<li>HOUR =&gt; H</li>
<li>DAY =&gt; D</li>
</ul></li>
<li><code>intervalNum</code> describes the amount of the interval. For example, <code>intervalNum</code> 5 with <code>intervalLetter</code> M means &quot;Every 5 minutes&quot;.</li>
<li>A 429 will be returned when either rate limit is violated.</li>
</ul>
<h3 id='ip-limits'>IP Limits</h3>
<ul>
<li>Every request will contain <code>X-MBX-USED-WEIGHT-(intervalNum)(intervalLetter)</code> in the response headers which has the current used weight for the IP for all request rate limiters defined.</li>
<li>Each route has a <code>weight</code> which determines for the number of requests each endpoint counts for. Heavier endpoints and endpoints that do operations on multiple symbols will have a heavier <code>weight</code>.</li>
<li>When a 429 is received, it&#39;s your obligation as an API to back off and not spam the API.</li>
<li><strong>Repeatedly violating rate limits and/or failing to back off after receiving 429s will result in an automated IP ban (HTTP status 418).</strong></li>
<li>IP bans are tracked and <strong>scale in duration</strong> for repeat offenders, <strong>from 2 minutes to 3 days</strong>.</li>
<li>A <code>Retry-After</code> header is sent with a 418 or 429 responses and will give the <strong>number of seconds</strong> required to wait, in the case of a 429, to prevent a ban, or, in the case of a 418, until the ban is over.</li>
<li><strong>The limits on the API are based on the IPs, not the API keys.</strong></li>
</ul>
<h3 id='sapi-limit-introduction'>/sapi/ Limit Introduction</h3>
<p>The <code>/sapi/*</code> endpoints adopt either of two access limiting rules, IP limits or UID (account) limits.</p>

<ul>
<li>Endpoints are marked according to IP or UID limit and their corresponding weight value.</li>
<li>Each endpoint with IP limits has an independent 12000 per minute limit.</li>
<li>Each endpoint with UID limits has an independent 180000 per minute limit.</li>
<li>Responses from endpoints with IP limits contain the header <code>X-SAPI-USED-IP-WEIGHT-1M</code>, defining the weight used by the current IP.</li>
<li>Responses from endpoints with UID limits contain the header <code>X-SAPI-USED-UID-WEIGHT-1M</code>, defining the weight used by the current UID.</li>
</ul>

<hr>
<h2 id='signed-trade-user_data-and-margin-endpoint-security'>SIGNED (TRADE, USER_DATA, AND MARGIN) Endpoint security</h2>
<ul>
<li><code>SIGNED</code> endpoints require an additional parameter, <code>signature</code>, to be
sent in the  <code>query string</code> or <code>request body</code>.</li>
<li>Endpoints use <code>HMAC SHA256</code> signatures. The <code>HMAC SHA256 signature</code> is a keyed <code>HMAC SHA256</code> operation.
Use your <code>secretKey</code> as the key and <code>totalParams</code> as the value for the HMAC operation.</li>
<li>The <code>signature</code> is <strong>not case sensitive</strong>.</li>
<li><code>totalParams</code> is defined as the <code>query string</code> concatenated with the
<code>request body</code>.</li>
</ul>
<h3 id='timing-security'>Timing security</h3>
<ul>
<li>A <code>SIGNED</code> endpoint also requires a parameter, <code>timestamp</code>, to be sent which
should be the millisecond timestamp of when the request was created and sent.</li>
<li>An additional parameter, <code>recvWindow</code>, may be sent to specify the number of
milliseconds after <code>timestamp</code> the request is valid for. If <code>recvWindow</code>
is not sent, <strong>it defaults to 5000</strong>.</li>
</ul>

<blockquote>
<p>The logic is as follows:</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code>  <span class="k">if</span> <span class="p">(</span><span class="nx">timestamp</span> <span class="o">&lt;</span> <span class="p">(</span><span class="nx">serverTime</span> <span class="o">+</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">serverTime</span> <span class="o">-</span> <span class="nx">timestamp</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="nx">recvWindow</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">// process request</span>
  <span class="p">}</span> 
  <span class="k">else</span> 
  <span class="p">{</span>
    <span class="c1">// reject request</span>
  <span class="p">}</span>
</code></pre></div>
<p><strong>Serious trading is about timing.</strong> Networks can be unstable and unreliable,
which can lead to requests taking varying amounts of time to reach the
servers. With <code>recvWindow</code>, you can specify that the request must be
processed within a certain number of milliseconds or be rejected by the
server.</p>

<aside class="notice">
It is recommended to use a small recvWindow of 5000 or less! The max cannot go beyond 60,000!
</aside>

<hr>
<h1 id='c2c-endpoints'>C2C Endpoints</h1><h2 id='get-c2c-trade-history-user_data'>Get C2C Trade History (USER_DATA)</h2>
<blockquote>
<p><strong>Response:</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
   <span class="dl">"</span><span class="s2">code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">000000</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">message</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">success</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
   <span class="p">{</span>
      <span class="dl">"</span><span class="s2">orderNumber</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">20219644646554779648</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">advNo</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">11218246497340923904</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">tradeType</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">SELL</span><span class="dl">"</span><span class="p">,</span>  
      <span class="dl">"</span><span class="s2">asset</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BUSD</span><span class="dl">"</span><span class="p">,</span> 
      <span class="dl">"</span><span class="s2">fiat</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">CNY</span><span class="dl">"</span><span class="p">,</span>  
      <span class="dl">"</span><span class="s2">fiatSymbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">￥</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">amount</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">5000.00000000</span><span class="dl">"</span><span class="p">,</span>  <span class="c1">// Quantity (in Product)</span>
      <span class="dl">"</span><span class="s2">totalPrice</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">33400.00000000</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">unitPrice</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">6.68</span><span class="dl">"</span><span class="p">,</span> <span class="c1">// Unit Price (in Fiat)</span>
      <span class="dl">"</span><span class="s2">orderStatus</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">COMPLETED</span><span class="dl">"</span><span class="p">,</span>  <span class="c1">// PENDING, TRADING, BUYER_PAYED, DISTRIBUTING, COMPLETED, IN_APPEAL, CANCELLED, CANCELLED_BY_SYSTEM</span>
      <span class="dl">"</span><span class="s2">createTime</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1619361369000</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">commission</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>   <span class="c1">// Transaction Fee (in Product)</span>
      <span class="dl">"</span><span class="s2">counterPartNickName</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ab***</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">advertisementRole</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">TAKER</span><span class="dl">"</span>        
     <span class="p">}</span>
   <span class="p">],</span>
   <span class="dl">"</span><span class="s2">total</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">success</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>
</code></pre></div>
<p><code>
GET /sapi/v1/c2c/orderMatch/listUserOrderHistory (HMAC SHA256)
</code></p>

<p><strong>Parameters:</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>tradeType</td>
<td>STRING</td>
<td>YES</td>
<td>BUY, SELL</td>
</tr>
<tr>
<td>startTimestamp</td>
<td>LONG</td>
<td>NO</td>
<td></td>
</tr>
<tr>
<td>endTimestamp</td>
<td>LONG</td>
<td>NO</td>
<td></td>
</tr>
<tr>
<td>page</td>
<td>INT</td>
<td>NO</td>
<td>default 1</td>
</tr>
<tr>
<td>rows</td>
<td>INT</td>
<td>NO</td>
<td>default 100, max 100</td>
</tr>
<tr>
<td>recvWindow</td>
<td>LONG</td>
<td>NO</td>
<td></td>
</tr>
<tr>
<td>timestamp</td>
<td>LONG</td>
<td>YES</td>
<td></td>
</tr>
</tbody></table>

<ul>
<li>If startTimestamp and endTimestamp are not sent, the recent 30-day data will be returned.</li>
<li>The max interval between startTimestamp and endTimestamp is 30 days.</li>
<li>Only the last 6 months of data can be retrieved. To view the complete P2P order history, you can download it from https://c2c.pexpay.com/en/fiatOrder</li>
</ul>
<h1 id='error-codes'>Error Codes</h1>
<blockquote>
<p>The error JSON payload:</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="dl">"</span><span class="s2">code</span><span class="dl">"</span><span class="p">:</span> <span class="nx">$</span><span class="p">{</span><span class="nx">error</span> <span class="nx">code</span><span class="p">},</span>
  <span class="dl">"</span><span class="s2">msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">error message.</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>Errors consist of two parts: an error code and a message. Codes are universal, but messages can vary. </p>
<h2 id='10xx-general-server-or-network-issues'>10xx - General Server or Network issues</h2><h3 id='1000-unknown'>-1000 UNKNOWN</h3>
<ul>
<li>An unknown error occurred while processing the request.</li>
<li>An unknown error occurred while processing the request.[%s]</li>
</ul>
<h3 id='1001-disconnected'>-1001 DISCONNECTED</h3>
<ul>
<li>Internal error; unable to process your request. Please try again.</li>
</ul>
<h3 id='1002-unauthorized'>-1002 UNAUTHORIZED</h3>
<ul>
<li>You are not authorized to execute this request.</li>
</ul>
<h3 id='1003-too_many_requests'>-1003 TOO_MANY_REQUESTS</h3>
<ul>
<li>Too many requests queued.</li>
<li>Too much request weight used; please use the websocket for live updates to avoid polling the API.</li>
<li>Too much request weight used; current limit is %s request weight per %s %s. Please use the websocket for live updates to avoid polling the API.</li>
<li>Way too much request weight used; IP banned until %s. Please use the websocket for live updates to avoid bans.</li>
</ul>
<h3 id='1004-server_busy'>-1004 SERVER_BUSY</h3>
<ul>
<li>Server is busy, please wait and try again</li>
</ul>
<h3 id='1006-unexpected_resp'>-1006 UNEXPECTED_RESP</h3>
<ul>
<li>An unexpected response was received from the message bus. Execution status unknown.</li>
</ul>
<h3 id='1007-timeout'>-1007 TIMEOUT</h3>
<ul>
<li>Timeout waiting for response from backend server. Send status unknown; execution status unknown.</li>
</ul>
<h3 id='1008-server_busy'>-1008 SERVER_BUSY</h3>
<ul>
<li>Spot server is currently overloaded with other requests. Please try again in a few minutes. </li>
</ul>
<h3 id='1014-unknown_order_composition'>-1014 UNKNOWN_ORDER_COMPOSITION</h3>
<ul>
<li>Unsupported order combination.</li>
</ul>
<h3 id='1015-too_many_orders'>-1015 TOO_MANY_ORDERS</h3>
<ul>
<li>Too many new orders.</li>
<li>Too many new orders; current limit is %s orders per %s.</li>
</ul>
<h3 id='1016-service_shutting_down'>-1016 SERVICE_SHUTTING_DOWN</h3>
<ul>
<li>This service is no longer available.</li>
</ul>
<h3 id='1020-unsupported_operation'>-1020 UNSUPPORTED_OPERATION</h3>
<ul>
<li>This operation is not supported.</li>
</ul>
<h3 id='1021-invalid_timestamp'>-1021 INVALID_TIMESTAMP</h3>
<ul>
<li>Timestamp for this request is outside of the recvWindow.</li>
<li>Timestamp for this request was 1000ms ahead of the server&#39;s time.</li>
</ul>
<h3 id='1022-invalid_signature'>-1022 INVALID_SIGNATURE</h3>
<ul>
<li>Signature for this request is not valid.</li>
</ul>
<h3 id='1099-not-found-authenticated-or-authorized'>-1099 Not found, authenticated, or authorized</h3>
<ul>
<li>This replaces error code -1999</li>
</ul>

      </div>
      <div class="dark-box">
      </div>
    </div>
    <script>
      const LG = document.getElementById('LG');
      const lang_btn = document.getElementById('lang_box');
      const btn_spot = document.getElementById('btn_spot');
      // const btn_dm = document.getElementById('btn_dm');
      // const btn_fp = document.getElementById('btn_fp');
      // const btn_tn = document.getElementById('btn_tn');
      const v1_url = document.getElementById('v1_url');
      //const v2_url = document.getElementById('v2_url');
      const url = GetUrlRelativePath();
      if(url.indexOf('cn') != -1){
        // for the Chinese Language env.
        lang_btn.innerHTML = 'English';
        btn_spot.innerHTML = 'c2c';
        // btn_dm.innerHTML = 'U本位合约';
        // btn_fp.innerHTML = '币本位合约';
        // btn_tn.innerHTML = '欧式期权';
        LG.href = "https://www.pexpay.com/cn/";
        lang_btn.href = url.replace('cn/', 'en/');
        btn_spot.href = btn_spot.href.replace('en/', 'cn/');
        btn_dm.href = btn_dm.href.replace('en/', 'cn/');
        btn_fp.href = btn_fp.href.replace('en/', 'cn/');
        btn_tn.href = btn_tn.href.replace('en/', 'cn/');
        //v1_url.href = '/docs/spot/v1/cn/';
        //v2_url.href = '/docs/spot/v2/cn/';
      }else{
        // for the English Language env.
        lang_btn.innerHTML = '简体中文';
        btn_spot.innerHTML = 'Spot/Margin/Savings/Mining';
        btn_dm.innerHTML = 'USDⓈ-M Futures';
        btn_fp.innerHTML = 'COIN-M  Futures';
        btn_tn.innerHTML = 'European Options';
        LG.href = "https://www.pexpay.com/en/";
        lang_btn.href = url.replace('en/', 'cn/');
        btn_spot.href = btn_spot.href.replace('cn/', 'en/');
        // btn_dm.href = btn_dm.href.replace('cn/', 'en/');
        // btn_fp.href = btn_fp.href.replace('cn/', 'en/');
        // btn_tn.href = btn_tn.href.replace('cn/', 'en/');
        //v1_url.href = '/docs/spot/v1/en/';
        //v2_url.href = '/docs/spot/v2/en/';
      }
      if(location.href.indexOf('apidocs/futures') > 0){
        btn_spot.className = '';
        btn_dm.className = 'current';
        btn_fp.className = '';
        btn_tn.className = '';
      } else if(location.href.indexOf('apidocs/spot') > 0){
        btn_spot.className = 'current';
        btn_dm.className = '';
        btn_fp.className = '';
        btn_tn.className = '';
      } else if(location.href.indexOf('apidocs/voptions') > 0){
        btn_spot.className = '';
        btn_dm.className = '';
        btn_fp.className = '';
        btn_tn.className = 'current';
      } else{
        btn_spot.className = '';
        btn_dm.className = '';
        btn_fp.className = 'current';
        btn_tn.className = '';
      }
      // language botton
      lang_btn.style.display = 'block';
      function GetUrlRelativePath(){
        let url = document.location.toString();
        let arrUrl = url.split("//");
        let start = arrUrl[1].indexOf("/");
        let relUrl = arrUrl[1].substring(start);
        if(relUrl.indexOf("?") != -1){
          relUrl = relUrl.split("?")[0];
        }
        if(relUrl.indexOf("#") != -1){
          relUrl = relUrl.split("#")[0];
        }
        return relUrl;
  　　}
    </script>
  </body>
</html>
